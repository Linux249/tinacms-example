import React, { useCallback, useMemo, useRef } from 'react';
import { Group } from '@vx/group';
import { Circle } from '@vx/shape';
import { GradientPinkRed } from '@vx/gradient';
import { scaleLinear } from '@vx/scale';
import { Tooltip, withTooltip } from '@vx/tooltip';
import { voronoi } from '@vx/voronoi';
import { localPoint } from '@vx/event';

const points = [
    [1.6040117606952082, 0.8705001522419455, 0],
    [1.7630781771661317, 0.8697508699684552, 0],
    [1.5705559826894657, 1.1133134728576182, 0],
    [1.4080931191382966, 1.0763020950358648, 0],
    [1.822886957568512, 1.1918621029112437, 0],
    [1.6469120800776547, 0.9879083584357827, 0],
    [1.6975498755298817, 0.9966078602223506, 0],
    [1.7214886945865222, 1.0063534435784574, 0],
    [1.6895240321896872, 0.91468033458174, 0],
    [1.8401887338766048, 0.7411052695317444, 0],
    [1.5756169264955222, 1.0789579961444888, 0],
    [1.4801055887487586, 1.2994263800969508, 0],
    [1.7579399518050005, 0.8330009832162917, 0],
    [1.3678376218727384, 0.8739357877347849, 0],
    [1.7711894725504838, 1.1314748642725714, 0],
    [1.6753257914749138, 1.069033133139647, 0],
    [1.7929582818929266, 1.3329023264225242, 0],
    [1.9257990151196647, 0.7526240654371343, 0],
    [1.9442533421184012, 1.046904936928312, 0],
    [1.8254055381005596, 0.6326907842425551, 0],
    [1.709710008756557, 0.6458203710194643, 0],
    [2.0104267729934135, 0.9927360359595102, 0],
    [1.6582424160272597, 0.7774813987358065, 0],
    [1.5219697639917533, 1.0951851105227615, 0],
    [1.7261660047544047, 0.7334408755357826, 0],
    [1.541911976771932, 1.0350974051775672, 0],
    [1.9781094273320252, 0.8906562058733053, 0],
    [1.8439540130511862, 0.740355351994352, 0],
    [1.5291210789504999, 1.026436457827521, 0],
    [1.7742537301754169, 0.981046950330748, 0],
    [1.719358347087683, 1.0647154743355567, 0],
    [1.9193306120604794, 1.1298222245272571, 0],
    [1.8164133226260217, 0.9676727812149064, 0],
    [1.7630026451115994, 1.0236176852765548, 0],
    [1.684690413109526, 1.0084369631629762, 0],
    [1.324260239271209, 0.9196921454928109, 0],
    [1.9197058516437053, 0.7851480680982463, 0],
    [1.7268102534342826, 1.1173375262694627, 0],
    [1.736688894420103, 0.9769381740736014, 0],
    [1.7957651669243744, 0.8239997354425231, 0],
    [1.734767470150483, 0.7828845148119145, 0],
    [2.00377731784499, 1.2866512871857763, 0],
    [1.949783305063952, 0.7033017212697945, 0],
    [1.7267827312570556, 1.4288716395956251, 0],
    [1.6441795749708417, 1.0832130276019327, 0],
    [1.2845792013957786, 1.5143438845486237, 0],
    [1.8852046969894698, 1.1935549554496903, 0],
    [2.248565606882219, 0.5023076421827757, 0],
    [1.550597669875039, 0.915781147721561, 0],
    [2.0268699516235746, 0.6601201614447801, 0],
    [1.3252050390477819, 1.1541918484704294, 0],
    [1.7751979479589037, 0.727331376985709, 0],
    [1.805582837914718, 1.119254419706826, 0],
    [1.5826129241008526, 1.5835986417388725, 0],
    [2.0912248513274077, 1.002088123194323, 0],
    [2.0633651175204113, 1.0666935211935447, 0],
    [1.5030037035813852, 1.0747896389488636, 0],
    [1.8332573240203, 1.2633900236461642, 0],
    [1.868584568914363, 1.1606539256683666, 0],
    [1.834881798160746, 1.1911147622496736, 0],
    [1.5283553344542526, 0.9729273389979696, 0],
    [2.019829502506339, 1.1069073167994348, 0],
    [1.4787627396910743, 0.8281027469908894, 0],
    [1.7133440173241625, 0.949126761674988, 0],
    [1.5888220944749594, 0.9445272145930391, 0],
    [1.9680653915827246, 0.7805466468830888, 0],
    [1.7509297245983142, 0.9852641790551028, 0],
    [1.5261661036144818, 0.901760078192126, 0],
    [1.6810682897491582, 1.1742320918008256, 0],
    [2.0618988177464366, 0.9656646759810043, 0],
    [1.5766176576952557, 0.9823970011631703, 0],
    [1.4693715047721079, 1.0436744057699145, 0],
    [2.0287768563586526, 1.2527202270249844, 0],
    [1.6594329013770843, 0.9988870169875999, 0],
    [1.930435547500591, 0.5364613622367314, 0],
    [1.9119309638330755, 0.6094522194385736, 0],
    [1.772315783560239, 0.9051313408056866, 0],
    [1.6713309426546274, 0.8767894935819989, 0],
    [1.8285881819873204, 1.3974960991921541, 0],
    [1.4894833931045817, 0.8411862157069988, 0],
    [1.797032084852606, 0.8174070142399917, 0],
    [2.1505505669342755, 0.9819387244656328, 0],
    [1.8510697815626982, 1.2208645308845754, 0],
    [1.7023080481781734, 1.1875436053457271, 0],
    [1.862452841994151, 0.7173894516972987, 0],
    [1.787676247711919, 0.6728795545858968, 0],
    [1.5658442758207518, 1.1201747461717133, 0],
    [1.4657255518027494, 0.8297760661055367, 0],
    [1.7837684525284128, 1.004883205989458, 0],
    [1.7291320951345936, 0.6708595455971482, 0],
    [1.8749294823122602, 1.1121733514073084, 0],
    [2.1282685263967434, 0.9707288832545107, 0],
    [1.636365849192284, 1.0758021734205918, 0],
    [1.42411554237833, 1.0421563207432238, 0],
    [2.0754897634679876, 1.2098049554168369, 0],
    [1.531985365043675, 0.785938530803957, 0],
    [1.6109781987701486, 0.7945492075335848, 0],
    [1.73244607746771, 0.7781545538390814, 0],
    [1.7335322518046727, 1.1758160421945245, 0],
    [1.7800249121134386, 0.9873285840986727, 0],
    [1.719271613197862, 0.7678642374326923, 0],
    [1.6631453217793761, 0.8851752274670552, 0],
    [1.405371677609406, 1.0143303160850115, 0],
    [1.8306063893196403, 1.0390023162299156, 0],
    [1.708866241367868, 0.8536975356714008, 0],
    [1.6653723110432699, 0.5741802900904743, 0],
    [1.6821601631004657, 0.8915408661946682, 0],
    [1.5726124554578653, 0.834625108454426, 0],
    [1.5541115603582416, 0.959670752971393, 0],
    [1.283263583027764, 1.2661996198512055, 0],
    [1.467978865790157, 1.1095703561333656, 0],
    [2.0295613451611603, 1.1092500712298976, 0],
    [1.350992570998525, 0.7971431236343887, 0],
    [1.9473359662232892, 1.042056987712137, 0],
    [2.098785655155549, 1.0764658262188587, 0],
    [1.9979356925546061, 1.319320617048483, 0],
    [1.66076977305336, 0.7046995725530332, 0],
    [1.5376587104368031, 0.99282371601062, 0],
    [1.5265132638154202, 0.9964561968809905, 0],
    [1.5596875681821327, 1.1467224479493303, 0],
    [1.298492352966451, 0.7331725575940724, 0],
    [1.7021626053204595, 1.127326500100388, 0],
    [1.4859724430439007, 0.9357671200283967, 0],
    [1.621103719849986, 0.7643335970101185, 0],
    [1.6789919464579162, 1.091272051720985, 0],
    [1.8073258308804767, 1.0782432979573602, 0],
    [1.7041021327103585, 0.8726071383591144, 0],
    [1.543501482277075, 1.235826998437727, 0],
    [1.844786647287535, 0.8328439696383457, 0],
    [1.8902762136436442, 0.9659734485095886, 0],
    [1.5903766138448887, 1.0619350458436116, 0],
    [1.8389038527657218, 0.8533039173119535, 0],
    [1.6420635752632728, 0.9014615596561953, 0],
    [1.5575410610862193, 1.0442528781852183, 0],
    [2.102462209652426, 0.7482855627636048, 0],
    [1.866604151621677, 1.2178966033470717, 0],
    [1.680815401867461, 1.2906881722963899, 0],
    [1.5852241044329338, 0.7953154353049219, 0],
    [1.8337474186435916, 1.112185964126182, 0],
    [1.2556001995901513, 1.2197085882742051, 0],
    [1.5769443575917428, 1.1719696106023056, 0],
    [1.6896820118073121, 1.086391789328581, 0],
    [1.9211003484998126, 1.084057495867901, 0],
    [1.8416719084227335, 0.9688818160618388, 0],
    [1.547047965868018, 0.8434907322316127, 0],
    [1.463196269408279, 1.0412527314019107, 0],
    [1.7366391134769803, 0.7895658167795341, 0],
    [1.6715145933194453, 1.3855020439745784, 0],
    [2.0023288198513463, 1.1232360131515653, 0],
    [1.6092821338250052, 1.3168627529657067, 0],
    [1.522481776941404, 1.0945391153494748, 0],
    [1.818073003489286, 1.1224716369826404, 0],
    [1.8096225275366442, 1.108604421671563, 0],
    [2.103522650253821, 1.058025288403979, 0],
    [1.9247628345439467, 1.0214683745154298, 0],
    [1.323024587285786, 1.2543441886673055, 0],
    [1.4000822945518592, 0.977710678004634, 0],
    [1.8260628542289186, 0.833157477071652, 0],
    [1.8405379920624345, 1.3141515150121643, 0],
    [1.6672530816341682, 1.2664689102481888, 0],
    [1.3620119241884365, 1.2415002802956012, 0],
    [1.7888764108317285, 1.3438655473267458, 0],
    [2.056300076531587, 0.9125985527644154, 0],
    [1.8782546896750452, 1.2284974878327741, 0],
    [1.9788534150733228, 0.6946041421592858, 0],
    [1.6985969250272548, 0.7770299173829746, 0],
    [1.729192710610148, 0.8339084747425094, 0],
    [1.5366482749997414, 1.1096627020208172, 0],
    [1.8302009988530332, 0.6853114462145523, 0],
    [1.4428968498333559, 1.1525964202585928, 0],
    [1.889720711073138, 0.9580272539442928, 0],
    [1.9482242854944798, 1.1327067586971513, 0],
    [1.5258445567793515, 1.4466381794499026, 0],
    [1.728431762021682, 0.7377699307247605, 0],
    [1.3606235120741053, 0.8814718555520553, 0],
    [2.3782826775334676, 0.8541466391758461, 0],
    [1.7094609729499104, 0.6118547018250758, 0],
    [1.706211411591622, 0.9085194539875731, 0],
    [1.7238551711804906, 1.093976243554906, 0],
    [1.6689008131344518, 1.1311708328115435, 0],
    [1.7608401690385571, 1.3352698016105533, 0],
    [2.0088299335243875, 0.9023083056243169, 0],
    [1.755051305511174, 0.8774098818620393, 0],
    [1.5476505443882922, 0.963049893006265, 0],
    [1.8243261150224297, 0.8379811893370013, 0],
    [1.4934808504427557, 0.8153282483536208, 0],
    [1.7105017214151133, 1.12955228740958, 0],
    [1.3811668333018603, 1.2055783428802802, 0],
    [1.826913287115455, 0.8242363183017181, 0],
    [1.65175615844212, 0.852639702006884, 0],
    [2.061108500043703, 0.7259851586633042, 0],
    [1.7772858103828304, 1.1643909299366737, 0],
    [1.706065534171463, 0.981797885232227, 0],
    [1.6344578138198878, 0.9617449919579646, 0],
    [1.7710151408279502, 1.0588864642952616, 0],
    [1.7581531004363418, 1.134188912036214, 0],
    [1.9739845191012633, 1.0136107445072697, 0],
    [2.135294407201095, 0.7616543108841322, 0],
    [1.9267253152693653, 1.0636121730979444, 0],
    [1.9665796590685058, 0.8546538274324642, 0],
    [1.866610244353822, 0.9795285732336184, 0],
    [1.6523201631762612, 1.2434209749167144, 0],
    [1.885960328257719, 1.2109946656955002, 0],
    [1.765423703858625, 0.848874710233962, 0],
    [1.804126778517542, 0.7166055709741681, 0],
    [1.5387026081508928, 1.0136609353722525, 0],
    [1.6386152149142863, 1.2112582213939966, 0],
    [1.5072824723967453, 1.1496091924637935, 0],
    [1.6207830077560028, 0.8121928350485159, 0],
    [1.7846881044786094, 1.1715750431869358, 0],
    [1.8228355261857305, 1.1594453477776574, 0],
    [1.479799411037864, 1.2295588320895194, 0],
    [1.444892364252422, 0.9620633001608182, 0],
    [1.7790075638021068, 0.6668700718525395, 0],
    [1.7045425458171946, 1.0182968505095826, 0],
    [1.338375898374219, 0.8708963903216731, 0],
    [1.6055176847150354, 0.9448136828431379, 0],
    [2.131785370465081, 0.9008104897810758, 0],
    [1.2756892006189517, 0.9032915615464452, 0],
    [2.1996370781779886, 0.8923522151590171, 0],
    [1.6494049293898798, 1.082764968103755, 0],
    [1.6351496959749425, 1.4442390591149852, 0],
    [1.592077397229776, 0.9208425160954927, 0],
    [1.5848583495218653, 0.7777106044753975, 0],
    [1.9072773792787583, 0.7656765366443383, 0],
    [1.6836188866550372, 0.771366468513613, 0],
    [1.4732960354053168, 0.9415102107093613, 0],
    [2.037857025805894, 0.7611955601153404, 0],
    [1.9512246465201961, 0.9217372539466542, 0],
    [1.8550923527043028, 0.7155911005676467, 0],
    [1.820920489483151, 0.8174908581843322, 0],
    [1.5048266742000989, 1.1544786493405372, 0],
    [1.5701834172346159, 0.9514024727914404, 0],
    [1.6783801755490622, 1.0763272129342627, 0],
    [1.6694700498902675, 1.4475139036499172, 0],
    [1.810843930820233, 0.957473673008903, 0],
    [2.2091567181389684, 0.8587554246525706, 0],
    [1.9080602628919185, 0.5802475549509001, 0],
    [1.7552268191158025, 1.4785648920681316, 0],
    [1.7483485243578325, 0.4745293627590489, 0],
    [1.9439004441561367, 0.6130007721963162, 0],
    [1.6723565665680922, 0.799750045996921, 0],
    [1.7630567205950722, 1.194129062659248, 0],
    [1.4837611914485138, 0.5016626764841181, 0],
    [1.551728127722219, 1.0895653705163932, 0],
    [1.4669811274632736, 0.9714595321983538, 0],
    [1.6749956058729139, 1.5174633059979414, 0],
    [1.6336688582520889, 0.9749827733277264, 0],
    [1.8642194860329406, 1.1935827163804544, 0],
    [1.386386664024702, 0.8408848740605025, 0],
    [1.715535512250183, 1.24607150956311, 0],
    [1.860944636303968, 0.9382960312268119, 0],
    [1.7207566865657562, 0.6189770582808729, 0],
    [1.629746771615266, 1.0222401949542732, 0],
    [2.0827950531242805, 0.9879825253242945, 0],
    [1.7985513355669116, 0.551154232770219, 0],
    [1.6980928161935793, 0.7571621183313773, 0],
    [2.111033609471443, 1.4602738402514204, 0],
    [1.9172911675003086, 1.0288711041491974, 0],
    [1.2878272990035105, 0.656316265029489, 0],
    [1.5071681133639407, 0.9542750035748263, 0],
    [1.3603994075002466, 0.8687734878809001, 0],
    [1.6247995655609886, 0.8775725261305327, 0],
    [1.8154795635223873, 1.1851919336213967, 0],
    [1.8990652710232068, 1.088953801226946, 0],
    [1.7464396000011218, 1.017344158625363, 0],
    [1.8692143211636505, 0.7173522159084971, 0],
    [2.1267245631582345, 0.9491244206905871, 0],
    [1.4195430253893648, 0.9568676452187399, 0],
    [2.003433593163405, 0.9185847986477518, 0],
    [1.7262247894294385, 1.1848080448035483, 0],
    [1.9164719309264178, 1.11401313094498, 0],
    [1.7795554034409042, 1.3033648778046323, 0],
    [2.1145308103120213, 1.165713974624222, 0],
    [1.9564210890785396, 0.7902875512071357, 0],
    [1.873915759298444, 0.84398009796748, 0],
    [1.8869319576317731, 1.2773465134654558, 0],
    [1.5482055335581917, 1.0537094311416317, 0],
    [1.3637418643338002, 0.6167979586754209, 0],
    [1.6512912269640936, 1.2919091232586912, 0],
    [1.6385271762695952, 1.0645459747133903, 0],
    [1.7100999061213824, 0.7950499664985977, 0],
    [1.804491782008, 0.8050147483005945, 0],
    [1.4368382604641905, 1.1022164623888036, 0],
    [1.7755132006977774, 0.8632711149940556, 0],
    [2.121242199627945, 1.0565245083840236, 0],
    [1.5382642042716055, 0.948782274943058, 0],
    [1.8269809037610703, 1.08884696511682, 0],
    [1.5696504420441801, 0.9039397776265634, 0],
    [1.496255422925107, 1.0055999002829146, 0],
    [1.9151888260305916, 1.114436111973744, 0],
    [1.3586899983923941, 0.8809628409257493, 0],
    [2.1055099609054686, 1.1440454173694592, 0],
    [1.6415250593463384, 0.6900258591129391, 0],
    [1.729924826503046, 0.9512046208258866, 0],
    [1.3589436755407092, 0.8658535304551624, 0],
    [1.3090604539645265, 0.7482152866453291, 0],
    [1.9027609201329752, 0.9831553112867011, 0],
    [1.8788127817582059, 0.9221816008174268, 0],
    [1.772527296202061, 1.122909189810143, 0],
    [1.6743945655790948, 1.3820277890563624, 0],
    [1.917399223985543, 1.0769186341534387, 0],
    [1.5580529721381677, 1.0786989485260419, 0],
    [1.6150950096577694, 1.3624243108192082, 0],
    [1.581235344623036, 0.6591396964567593, 0],
    [1.5340255994321612, 0.8783568249554038, 0],
    [1.8740606406890068, 1.226298994751673, 0],
    [1.820839134817282, 0.9363836736354593, 0],
    [2.1349790080123694, 1.04395166628793, 0],
    [1.7094647247304695, 1.064204139803887, 0],
    [1.8834119357619008, 0.5783386121162711, 0],
    [1.957115013556115, 1.0110728453314435, 0],
    [1.398203232971812, 1.3679639951779672, 0],
    [1.7714168723304957, 1.3320800652011335, 0],
    [1.7737949815947198, 0.7283958864517144, 0],
    [1.8163843398573998, 0.7833221995203641, 0],
    [1.7443984218281117, 1.2401781527667115, 0],
    [1.5575569235094577, 1.059054783387089, 0],
    [1.790782654098709, 0.8956076664597428, 0],
    [1.3075469064409768, 1.2567117230878746, 0],
    [1.4950827973929772, 1.1000215346009532, 0],
    [1.8094718132498222, 0.7895980956214544, 0],
    [1.4675627509435694, 0.8557835226580234, 0],
    [1.9164907840800145, 0.8432321681826704, 0],
    [1.6839606674410208, 0.9206233974670586, 0],
    [1.9408088834352877, 0.7659773637696929, 0],
    [1.4104102179221174, 0.8214511996474245, 0],
    [1.6637418443435306, 0.7529561105972771, 0],
    [1.6092953119285018, 0.9365756482037687, 0],
    [1.751953577951859, 0.8379690650672127, 0],
    [1.528280211201158, 0.9078061636027167, 0],
    [1.6210288084659508, 0.9965976443040533, 0],
    [1.711976611122277, 1.0875161736394723, 0],
    [2.223367834703479, 1.0661998250194382, 0],
    [1.3583649084709648, 1.089248980329879, 0],
    [1.9903518174025547, 1.146108343835326, 0],
    [1.983814823700443, 0.9577569767763285, 0],
    [1.3480509194031516, 0.659008226027364, 0],
    [1.6427699486754959, 0.8238409436048845, 0],
    [1.6740280265682237, 1.5532139440141175, 0],
    [1.4916062485037258, 0.671154357783649, 0],
    [1.7316072830220035, 1.064499619098087, 0],
    [1.8093786833240362, 0.9341617505672659, 0],
    [1.757113944214505, 0.833487466709501, 0],
    [1.8265801701424018, 1.1499064667772343, 0],
    [1.6237066171791639, 0.7125045115962287, 0],
    [1.869337887636654, 1.0035919098062132, 0],
    [1.6280543274910888, 0.8138328050183129, 0],
    [1.5010355907983368, 1.022609381888172, 0],
    [1.3807421268353859, 1.3161661974127128, 0],
    [1.6216285669415156, 1.2768322482316095, 0],
    [1.6895713139530675, 1.3114649350310141, 0],
    [2.1454249476706564, 0.8641517362248121, 0],
    [1.8645823097238976, 0.9133484230406567, 0],
    [1.4670890400030376, 1.0229631139349968, 0],
    [1.3398862067567863, 0.9498768772996399, 0],
    [1.5174333807806026, 0.975348723794239, 0],
    [1.5957538763699062, 1.0403853759108719, 0],
    [1.7514327787940733, 1.3676531476724694, 0],
    [1.5672473121142132, 1.2689286506013102, 0],
    [1.7417953506518205, 0.9272243197997119, 0],
    [1.663379945195476, 0.55965765284627, 0],
    [1.2860113120481866, 1.153834623203438, 0],
    [1.964384173858136, 1.0968049540963127, 0],
    [1.8393395150386593, 0.9423105996346186, 0],
    [1.8491987266684586, 0.7950756035045319, 0],
    [1.665590741920172, 0.8251406156546846, 0],
    [1.6875924330056031, 0.8167732735351222, 0],
    [1.5677472425351826, 1.1003699157837947, 0],
    [1.8985713838076734, 1.0679780777629095, 0],
    [1.980261902616306, 0.884796499913467, 0],
    [1.4423148176287082, 0.8605794036090162, 0],
    [1.8168475077401594, 0.9515318550646238, 0],
    [1.7947020438276673, 0.7901187969097748, 0],
    [1.8666037028593354, 1.0809526976254586, 0],
    [1.5935828070365883, 0.9668746619977168, 0],
    [1.655643232011466, 1.311634594272436, 0],
    [1.6310218224366617, 0.8338482702450737, 0],
    [2.0918847569591144, 0.7209287291629742, 0],
    [1.7028962834290637, 0.6973960949648101, 0],
    [1.9321092560007491, 0.8421822281165834, 0],
    [1.4085576911170428, 0.9612237601547968, 0],
    [1.5737975499678092, 0.9745840852913448, 0],
    [1.9921051788138164, 0.8264910243915637, 0],
    [1.6051588473743394, 0.9157963026504002, 0],
    [2.084918937800604, 1.3118531641516125, 0],
    [1.69905073252787, 0.9929766080357988, 0],
    [1.669344753517014, 0.747336846448952, 0],
    [1.6869847908105895, 1.460181056792063, 0],
    [1.548337805278837, 0.9262395043009277, 0],
    [1.7683543868333638, 0.8923930441564374, 0],
    [1.945546356670321, 0.888470880337665, 0],
    [1.7855740715653925, 1.0984791004112286, 0],
    [1.7177956558644303, 0.9958589299728512, 0],
    [1.6989683687503694, 0.6974424901903601, 0],
    [1.6563030802127552, 0.7564111834993581, 0],
    [1.8260841180806389, 0.9694015979585636, 0],
    [1.6312678289642888, 0.5785013887256034, 0],
    [1.595529080127815, 0.609791276010015, 0],
    [1.651223385356298, 0.8605308836083724, 0],
    [1.8217803454761583, 1.1288209000869491, 0],
    [1.6972985721187142, 1.2756320054036556, 0],
    [1.8184591210430963, 1.3274854914229268, 0],
    [1.3859371287593432, 0.6572439923008649, 0],
    [2.0702507310982905, 0.9211373243490095, 0],
    [1.4942470754665527, 1.2163377800908552, 0],
    [1.9560485891265975, 1.0411643761588645, 0],
    [2.127642601736338, 0.89755206457183, 0],
    [1.5780339003682884, 0.7899237363681391, 0],
    [1.8411528101642518, 1.1176395003896364, 0],
    [1.8182965606907895, 1.0723546170087774, 0],
    [1.4373740674600726, 0.7967494464639289, 0],
    [1.5838779196492738, 0.8024748756505824, 0],
    [1.8073767150911326, 1.240090163384329, 0],
    [2.1478637974483545, 0.8058780167481282, 0],
    [1.3558010026358707, 1.008375110298868, 0],
    [1.651465536136778, 1.028508262563251, 0],
    [2.0443138886326557, 1.3620072971733204, 0],
    [1.6717523200723328, 1.080616540326442, 0],
    [1.8885745179419426, 0.9816032933720664, 0],
    [1.7811770659215655, 1.2362356110335209, 0],
    [1.6537489528290303, 0.8199083218908476, 0],
    [1.3389537423501976, 1.2659343250474255, 0],
    [1.5019012927792348, 1.0740381216034762, 0],
    [1.9409103600887823, 1.0647408471705937, 0],
    [1.597192135990894, 1.0283677729201615, 0],
    [1.6625205036465671, 0.7441514840490978, 0],
    [1.61056613195193, 0.9216922524704775, 0],
    [1.9342673124220289, 0.7637339136073487, 0],
    [1.164978417681735, 1.2825365623708926, 0],
    [1.7535482023038156, 0.9551387833510293, 0],
    [2.1565704229089153, 0.8491250941914346, 0],
    [1.9863628017397528, 0.9028065147794679, 0],
    [1.6204486051785616, 0.9301446700425473, 0],
    [1.6937868988213471, 1.0827663915571684, 0],
    [1.4934592767964983, 0.9927070475608051, 0],
    [2.133993602606041, 1.1498036560099227, 0],
    [1.7350207612139892, 1.0651897891662032, 0],
    [1.7173178697931588, 1.1245813939247467, 0],
    [1.6432888182420646, 1.1276110837290927, 0],
    [1.3700424334774062, 1.0836620030512731, 0],
    [1.6299608529861778, 0.9301098504331257, 0],
    [1.8342968809762732, 1.2001310074949791, 0],
    [1.5333862018928128, 0.8710007357032157, 0],
    [1.6441883312275585, 1.4218915308526903, 0],
    [1.845600034392127, 1.2569338016689748, 0],
    [1.7700365742769657, 0.9079749149763953, 0],
    [2.050607935247504, 0.9689474695404503, 0],
    [1.7708686963554212, 0.9584065027093003, 0],
    [1.8236649752393295, 1.0034777097577916, 0],
    [1.8785865237829713, 1.0491150329551044, 0],
    [1.6202101485933702, 1.1804313526602295, 0],
    [1.7911298967712315, 0.8771667024432703, 0],
    [1.6274759669537906, 1.0508302217161263, 0],
    [1.0095310264232669, 1.125886290439855, 0],
    [1.5061289778903, 1.1088999991808475, 0],
    [1.9716138947281272, 0.8931307524288633, 0],
    [1.7858147256603332, 0.7740809654523312, 0],
    [1.6413436674515278, 0.9534343153521565, 0],
    [1.7554885548689108, 1.1345193184998748, 0],
    [2.0778627879493565, 0.9885146345829207, 0],
    [1.42446269032995, 1.2068288658274584, 0],
    [1.9121106384415654, 0.8049421487189969, 0],
    [1.6755788970742953, 0.7507234160395648, 0],
    [1.4625259361346314, 1.1341849018077137, 0],
    [1.5887613489636299, 1.2666372350046453, 0],
    [1.7267106087750215, 1.1230400414985704, 0],
    [1.5662768259034139, 0.9382322694490092, 0],
    [1.480389108718482, 0.7005212682414801, 0],
    [1.5565982885850365, 1.0840102480364344, 0],
    [1.67461008916205, 0.9860459793433988, 0],
    [1.708349755833198, 0.9160349800554526, 0],
    [1.5676512854891915, 1.0173742044644964, 0],
    [1.569811111151509, 0.8280043964766328, 0],
    [1.5953273368444134, 1.220687055618256, 0],
    [1.7482170673601352, 0.8292935048801602, 0],
    [1.5533434198716911, 0.9312510752762723, 0],
    [2.0387652499954836, 1.073080461666389, 0],
    [1.6679608185238515, 1.2539652385391058, 0],
    [1.4226977058537837, 0.8109979287095637, 0],
    [1.8227222957701799, 1.0797319559741083, 0],
    [1.717476542682271, 0.952310517901963, 0],
    [1.7464880482694587, 1.1021377825112189, 0],
    [1.7114109952277765, 0.8808502443421002, 0],
    [1.355109540201842, 0.7736959581475755, 0],
    [1.768149177419656, 1.048160212005212, 0],
    [1.5136159403738352, 1.0372280611004134, 0],
    [1.7320179554175466, 0.7941789708574647, 0],
    [1.9975023790586697, 1.443900405992003, 0],
    [2.106672374431953, 0.9597524367812182, 0],
    [2.14188645717289, 0.8858940896601447, 0],
    [1.4679418695994726, 1.1991579737472904, 0],
    [1.7715529953209106, 0.8194573646656252, 0],
    [1.7227403205869787, 0.9368533077201817, 0],
    [1.7654209163341061, 0.9337264006838851, 0],
    [1.5745175650501744, 0.716123247007902, 0],
    [1.452366505512904, 1.0560165563902255, 0],
    [1.8563248074313352, 0.7542282324025791, 0],
    [1.668881236483494, 1.0330100686320471, 0],
    [1.5734565559206855, 0.8936784422216602, 0],
    [1.5291990653902796, 0.8164182205404835, 0],
    [1.9913919296878404, 1.260596735702009, 0],
    [1.8791836322822477, 1.0562801927890493, 0],
    [1.8334947557409464, 0.8649897181840194, 0],
    [1.976128640650902, 0.676996425623406, 0],
    [1.4833536007660755, 1.1506991732411778, 0],
    [1.6301622456602602, 1.20960355794512, 0],
    [1.5346247862827467, 1.1373724255132125, 0],
    [1.6919086942883665, 0.8964082852252302, 0],
    [1.7445226176517794, 1.1344978808237935, 0],
    [1.726922851497907, 0.8743061963937909, 0],
    [1.9534707694764508, 0.670456236064154, 0],
    [1.3086892840748816, 1.0401114178088648, 0],
    [1.6914950913716347, 0.9530242840903314, 0],
    [1.9324144413824542, 0.8693434340962565, 0],
    [1.4395939487126588, 1.1314409723457166, 0],
    [1.7229250040411372, 1.0276146869930998, 0],
    [1.7173974369606868, 0.9918446798538361, 0],
    [1.8544853775500427, 0.7487138007190366, 0],
    [1.5321848920173986, 0.6322038754242925, 0],
    [1.8251255318979083, 1.5049694512523693, 0],
    [1.5091388375945198, 1.1528079585886772, 0],
    [1.498272210915424, 1.0267261651722523, 0],
    [1.856692718131626, 0.7502018366149019, 0],
    [1.8512542412058974, 0.9537926007997212, 0],
    [1.792561262446953, 0.9714356879143564, 0],
    [1.599683945003884, 0.9488675245006604, 0],
    [1.7877176863382003, 0.9028728948205375, 0],
    [1.8999386955751711, 0.8294088273650411, 0],
    [1.528194070012722, 0.5538925472200591, 0],
    [1.683771361396025, 0.7796195251320177, 0],
    [1.8654471099789538, 0.99344496847521, 0],
    [1.4930498793041969, 1.3720021145040389, 0],
    [1.4953796701128648, 1.0501368764469032, 0],
    [1.7360989242436682, 1.0127260056169012, 0],
    [1.9880552445871231, 0.8102093924730844, 0],
    [1.7581135160806056, 1.3812463798277634, 0],
    [1.6407656861206275, 1.2844273329672211, 0],
    [1.7730759982936874, 0.9470111915574213, 0],
    [1.8591673551693597, 1.1431462753967856, 0],
    [1.5648172846074495, 0.8263182849178557, 0],
    [1.6457516304784139, 0.9397427915668003, 0],
    [1.4185710473028788, 1.1870687409740346, 0],
    [1.6788653671504135, 1.0928500358985185, 0],
    [1.615106612648667, 1.182219599695782, 0],
    [1.5795083223442763, 0.7118338748040838, 0],
    [1.6467488008067237, 0.9089059637853242, 0],
    [1.3138266586312866, 0.955916890554239, 0],
    [1.8664988471709145, 1.0979802279305084, 0],
    [1.7784317170642443, 1.4472804132781891, 0],
    [1.6864961862046668, 0.7607238039684046, 0],
    [1.8367750533371725, 0.8500690430902633, 0],
    [2.05745823619515, 1.1058939009826858, 0],
    [2.037882898533906, 1.1670803993561027, 0],
    [1.8596906147342183, 1.1198329900963229, 0],
    [1.1828990482472552, 0.8263613650065985, 0],
    [1.7616433221412646, 1.206067220054326, 0],
    [2.0663873568156808, 0.7983168959212268, 0],
    [1.8318585381093995, 0.9009520700858343, 0],
    [1.213444522247337, 1.0299893712260384, 0],
    [1.6968461264053767, 0.9561530123923198, 0],
    [1.872216541581941, 1.3724095653950044, 0],
    [1.9674960847399428, 0.5932094788254176, 0],
    [1.4160594475698387, 1.07792062316181, 0],
    [1.6739814486923779, 1.0385957881300434, 0],
    [1.6032344538466987, 0.7407658300420571, 0],
    [1.4835247528137256, 0.9947112415838482, 0],
    [1.693399870753897, 0.9045649942537133, 0],
    [1.7604530833015848, 0.9905804725777797, 0],
    [2.052793281479663, 1.1515399298471463, 0],
    [1.7287222505126725, 0.9463975612587673, 0],
    [1.794627124184296, 0.812079742143153, 0],
    [1.7250320418669438, 1.0109998015320618, 0],
    [1.7027171209848708, 0.8638989498333127, 0],
    [2.149552834794261, 1.0696213640077288, 0],
    [2.006427280437088, 0.5942994650969868, 0],
    [1.628683452008462, 1.2280070235055458, 0],
    [1.9134669228028995, 0.9423803517900523, 0],
    [1.8254187113441258, 0.607759942576103, 0],
    [1.6453365856617777, 0.708887313702754, 0],
    [1.7886571761699126, 1.2268580508095277, 0],
    [1.6863083397918306, 0.4837806353232441, 0],
    [1.3513008870578544, 0.9182136590565536, 0],
    [2.0268478847026112, 0.764564192206888, 0],
    [1.5705517438991377, 0.9520186638464492, 0],
    [1.8485675685732463, 1.073680386370569, 0],
    [1.9689468909983734, 1.0119221371400657, 0],
    [1.6504809850412137, 0.786681788711767, 0],
    [1.7762889170287819, 1.1106460778254144, 0],
    [1.6289861559702956, 1.0412298138175364, 0],
    [1.9796670206857083, 0.9035048012345687, 0],
    [1.6726919340935453, 1.178116282227542, 0],
    [1.4674844689356774, 1.1030453229942463, 0],
    [1.6392816770174767, 0.6655236054233857, 0],
    [1.4385906180320744, 0.9338771557632667, 0],
    [1.5711061743124282, 0.9290742692694611, 0],
    [1.6257101760305468, 0.6549546268156183, 0],
    [1.8438930736617063, 0.9890964408549189, 0],
    [1.8604721441020504, 1.293260480505071, 0],
    [1.3450766056968961, 0.9871071122257783, 0],
];

const x = (d) => d[0];
const y = (d) => d[1];

// export type DotsProps = {
//     width: number;
//     height: number;
//     showControls?: boolean;
// };

let tooltipTimeout;

export const ScatterChart = withTooltip(
    ({
        width = 500,
        hideTooltip,
        showTooltip,
        tooltipOpen,
        tooltipData,
        tooltipLeft,
        tooltipTop,
    }) => {
        if (width < 10) return null;
        const height = width / 2;
        const svgRef = useRef(null);
        const xScale = useMemo(
            () =>
                scaleLinear({
                    domain: [0, 2.2],
                    range: [0, width],
                    clamp: true,
                }),
            [width],
        );
        const yScale = useMemo(
            () =>
                scaleLinear({
                    domain: [0.75, 1.6],
                    range: [height, 0],
                    clamp: true,
                }),
            [height],
        );
        const voronoiLayout = useMemo(
            () =>
                voronoi({
                    x: (d) => xScale(x(d)),
                    y: (d) => yScale(y(d)),
                    width,
                    height,
                })(points),
            [width, height, xScale, yScale],
        );

        // event handlers
        const handleMouseMove = useCallback(
            (event) => {
                if (tooltipTimeout) clearTimeout(tooltipTimeout);
                if (!svgRef.current) return;

                // find the nearest polygon to the current mouse position
                const point = localPoint(svgRef.current, event);
                if (!point) return;
                const neighborRadius = 100;
                const closest = voronoiLayout.find(
                    point.x,
                    point.y,
                    neighborRadius,
                );
                if (closest) {
                    showTooltip({
                        tooltipLeft: xScale(x(closest.data)),
                        tooltipTop: yScale(y(closest.data)),
                        tooltipData: closest.data,
                    });
                }
            },
            [xScale, yScale, showTooltip, voronoiLayout],
        );

        const handleMouseLeave = useCallback(() => {
            tooltipTimeout = window.setTimeout(() => {
                hideTooltip();
            }, 300);
        }, [hideTooltip]);

        return (
            <div>
                <svg width={width} height={height} ref={svgRef}>
                    <GradientPinkRed id="dots-pink" />
                    {/** capture all mouse events with a rect */}
                    <rect
                        width={width}
                        height={height}
                        rx={14}
                        fill="url(#dots-pink)"
                        onMouseMove={handleMouseMove}
                        onMouseLeave={handleMouseLeave}
                        onTouchMove={handleMouseMove}
                        onTouchEnd={handleMouseLeave}
                    />
                    <Group pointerEvents="none">
                        {points.map((point, i) => (
                            <Circle
                                key={`point-${point[0]}-${i}`}
                                className="dot"
                                cx={xScale(x(point))}
                                cy={yScale(y(point))}
                                r={i % 3 === 0 ? 2 : 3}
                                fill={
                                    tooltipData === point ? 'green' : '#f6c431'
                                }
                            />
                        ))}
                    </Group>
                </svg>
                {tooltipOpen &&
                    tooltipData &&
                    tooltipLeft != null &&
                    tooltipTop != null && (
                        <Tooltip left={tooltipLeft + 10} top={tooltipTop + 10}>
                            <div>
                                <strong>x:</strong> {x(tooltipData)}
                            </div>
                            <div>
                                <strong>y:</strong> {y(tooltipData)}
                            </div>
                        </Tooltip>
                    )}
            </div>
        );
    },
);
